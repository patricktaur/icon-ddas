<div class="row">
	<div class="col-lg-12">

		<div class="well">
			<div class="row">
				<div class="col-lg-12">
					<h3 class="align-left no-margin-top">
						Data Extraction History
					</h3>
				</div>
			</div>			
		</div>
		<div class="alert alert-info" *ngIf="formLoading">
			<strong>Loading ...</strong>
		</div>
		<div *ngIf="!formLoading">
			<div class="well">
				<label>Filter by Site:</label>
				<div class="row">
					<div class="col-lg-6">
							<div class="form-group">
								<select class="form-control" [(ngModel)]="SiteEnum">
  									<option value="0" selected="selected"> 1. FDA Debar page</option>
  									<option value="1"> 2. Clinical investigator inspection page</option>
									<option value="2"> 3. FDA Warning Letters</option> 
									<option value="3"> 4. ERR proposal to debar page</option>  
 						     		<option value="4"> 5. Adequate assurance list page</option>
									<option value="5"> 6. Clinical Investigator Disqualification</option>
									<option value="6"> 7. CBER clinical investigator page</option>
									<option value="7"> 8. PHS Administrative action page</option>
									<option value="8"> 9. Exclusion database page</option>
									<option value="9"> 10. Corporate integrity agreement list page</option>
									<option value="10"> 11. System for award management page</option>
									<option value="11"> 12. Specially designated nationals page</option>
								</select>
							</div>						
					</div>
					<div class="col-lg-6">
						<button type="button" class="btn btn-primary" (click)="LoadExtractionHistory()">Re-Load</button>
					</div>

					<div class="col-lg-10">
						<table class="table table-bordered">
							<thead>
								<tr>
									<th>Scanned / Extracted On</th>
									<th>Site Source Last Updated On</th>
									<th>Error Description</th>
									<th>Extraction Message</th>
									<th>Actions</th>
								</tr>
							</thead>
							<tbody>
								<!--<tr *ngFor="let item of ErrorImages | paginate: { itemsPerPage: 10, currentPage: pageNumber}" class="active"> -->
								<tr *ngFor="let item of ExtractionDetails | paginate: { itemsPerPage: 10, currentPage: pageNumber}" class="active">
									<td class="text-center">
										{{item.ExtractionDate | date: 'dd MMM yyyy hh:mm a'}}
									</td>
									<td class="text-center">
										{{item.SiteLastUpdatedOn | date: 'dd MMM yyyy hh:mm a'}}
									</td>
									<td class="text-center">
										{{item.ErrorDescription}}
									</td>
									<td class="text-center">
										{{item.ExtractionMessage}}
									</td>
									<td class="text-center">
										<div class="btn-group">
											<button type="button" class="btn btn-sm btn-primary" (click)="deleteExtractionData(item.RecId)" title="Delete this entry"> <span class="glyphicon glyphicon-remove"></span> </button>
										</div>
									</td>									               
								</tr>
							</tbody>
						</table>
						<pagination-controls (pageChange)="pageNumber = $event"></pagination-controls>
					</div>
					<div class="col-lg-2">
						
					</div>
				</div>
			</div>			
		</div>

		

	</div>
</div>